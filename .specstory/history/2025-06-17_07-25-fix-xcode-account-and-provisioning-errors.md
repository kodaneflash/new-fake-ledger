<!-- Generated by SpecStory -->

# Fix Xcode account and provisioning errors (2025-06-17 03:25:09)

_**User**_

how do i fix rthis xcode error /Users/jamesarcher/ledger-live/apps/ledger-live-mobile/ios/ledgerlivemobile.xcodeproj No Account for Team "X6LFS5BQKN". Add a new account in Accounts settings or verify that your accounts have valid credentials.
 /Users/jamesarcher/ledger-live/apps/ledger-live-mobile/ios/ledgerlivemobile.xcodeproj No profiles for 'com.ledger.live.debug' were found: Xcode couldn't find any iOS App Development provisioning profiles matching 'com.ledger.live.debug'.
 

---

_**Assistant**_



---

This is a common issue when working with a forked iOS project. The Xcode project is configured with Ledger's internal team signing information, which you don't have access to.

To resolve this, you need to configure Xcode to use your own Apple Developer account for code signing. Here are the steps:

1.  **Open the project in Xcode**:
    ```bash
    open apps/ledger-live-mobile/ios/ledgerlivemobile.xcworkspace
    ```
    It's important to open the `.xcworkspace` file, not the `.xcodeproj` file, because this project uses CocoaPods.

2.  **Select the Project and Target**:
    *   In the Xcode project navigator on the left, select the `ledgerlivemobile` project.
    *   In the central pane, select the `ledgerlivemobile` target from the "TARGETS" list.

3.  **Change the Signing Team**:
    *   Go to the "Signing & Capabilities" tab.
    *   You will see a "Team" dropdown menu. It's likely set to a Ledger-specific team that is causing the error.
    *   Click on the dropdown and select your personal or organizational developer team. If you haven't added your Apple ID to Xcode yet, you'll see an option to "Add an Account...".

4.  **Adjust the Bundle Identifier (if needed)**:
    *   The current bundle identifier is `com.ledger.live.debug`. Your developer account may not have permission to sign an app with this identifier.
    *   If Xcode still shows signing errors after you've changed the team, you should change the "Bundle Identifier" to something unique, like `com.yourname.live.debug`.

5.  **Let Xcode handle provisioning**:
    *   Ensure that the "Automatically manage signing" checkbox is ticked. Xcode should then attempt to create the necessary provisioning profiles for you.

After these changes, try building the project in Xcode again (by pressing the "Play" button or `Cmd+R`). If it succeeds in Xcode, your `pnpm mobile ios` command should also work from the terminal.

---

_**User**_

how do i adhoc build this for react nativ due to having ios issues, and how can i test it in development aswell?   i am testing the  @staticmodification.md  implementation i madee   @mocksystem.md  @dataflows.md  

---

_**Assistant**_



---

Of course. It looks like you've set up a "Static Data Mode" based on `staticmodification.md`, which is an excellent way to work on the UI without needing live data or the full mock bridge.

Hereâ€™s how you can test this implementation, both in a fast, iterative way using the simulator, and by creating an ad-hoc build for a physical device.

### 1. How to Test in the Development Simulator (Recommended for Testing)

This is the fastest and most efficient way to test your static data implementation. It gives you live reloading and access to debugging tools like Flipper.

**Step 1: Make Sure Static Mode is Enabled**

First, ensure the changes from `staticmodification.md` are in place. The most important part is the flag to enable the static data.

In `apps/ledger-live-mobile/src/index.tsx`, make sure you have this line set to `true`:

```typescript
const USE_STATIC_DATA = true; // Set this to false to disable static data
```

**Step 2: Run the Application**

You will need two terminal windows.

*   **Terminal 1:** Start the Metro bundler. This serves your JavaScript code to the app.

    ```bash
    pnpm dev:llm
    ```

*   **Terminal 2:** Build and run the app on the iOS simulator.

    ```bash
    pnpm mobile ios
    ```

The app should now launch in the iOS simulator. Because `USE_STATIC_DATA` is true, the `useEffect` hook in `App()` will immediately inject your `staticAccounts` and `staticSettings` into the Redux store, and the `<SyncNewAccounts />` component will be disabled.

**Expected Result:**

You should see the app skip any onboarding or device connection flows and go directly to the portfolio, displaying the "Bitcoin 1 (Static)" account with its balance as defined in your `staticData.ts` file.

### 2. How to Create an Ad-Hoc Build for a Physical iOS Device

An "ad-hoc" build is a way to create a distributable app package (`.ipa`) that you can install on a limited number of registered physical devices, which is perfect for testing when a simulator isn't enough.

**Prerequisites:**

1.  **Paid Apple Developer Account:** This is required to sign and provision apps for physical devices.
2.  **Registered Test Device:** You must add the Unique Device Identifier (UDID) of your iPhone or iPad to your developer account.
3.  **Correct Signing Configuration:** Your Xcode project must be configured to use your developer account for signing, as we discussed previously.

**Steps to Build the `.ipa` file:**

1.  **Open the Project in Xcode:**
    Always open the `.xcworkspace` file.
    ```bash
    open apps/ledger-live-mobile/ios/ledgerlivemobile.xcworkspace
    ```

2.  **Select Your Physical Device:**
    Connect your iPhone/iPad to your Mac via USB. In Xcode, select your device from the target device list at the top of the window (next to the run/stop buttons).

3.  **Create an Archive:**
    From the top menu bar in Xcode, select **Product** -> **Archive**. This will compile and bundle the app for release.

    *Note: The "Archive" option will be greyed out if you have an iOS Simulator selected as the target device. You must select a physical device.*

4.  **Distribute the App:**
    After the archiving process finishes, the Xcode "Organizer" window will appear, showing your new archive.
    *   Select the archive.
    *   Click the **"Distribute App"** button on the right.
    *   For the method of distribution, select **"Ad Hoc"** and click "Next".
    *   On the "Ad Hoc Options" screen, you can leave the defaults and click "Next".
    *   Xcode will then ask you to select your distribution certificate and provisioning profile. Ensure "Automatically manage signing" is selected.
    *   Finally, Xcode will build the app and ask you where to save the exported `.ipa` file. Save it somewhere you can easily find it, like your Desktop.

**How to Install the `.ipa`:**

The easiest way to install the app on your registered device is using the Finder on macOS:

1.  Connect your device to your Mac.
2.  Open a Finder window and select your device from the sidebar.
3.  Drag the `.ipa` file you exported from Xcode and drop it onto the Finder window showing your device.
4.  The app will be installed on your device. You can now run it just like any other app.

---

_**User**_

theres a cli command to build a ad hoc build without it, provide it and will a ad hoc build work with the static data  @staticmodification.md  implemenrtation i made 

---

_**Assistant**_



---

Yes, you are correct. You can absolutely create an ad-hoc build from the command line without using the Xcode GUI, and your static data implementation will work perfectly in that build.

### Static Data in an Ad-Hoc Build

Your static data implementation from `staticmodification.md` will work in an ad-hoc build for one simple reason: **it's part of the JavaScript bundle**.

When you create a build (whether for development or release), all your TypeScript/JavaScript code, including the `staticData.ts` file and the logic in `index.tsx` where you set `USE_STATIC_DATA = true`, is bundled by Metro and packaged inside the final `.ipa` file. When you launch the app on your physical device, it executes that bundled code, ensuring your static data is loaded exactly as it is in the simulator.

### Command-Line Ad-Hoc Build

The tool for this is `xcodebuild`, which is part of Xcode's command-line tools. The process involves two main steps:
1.  **Archive the build**: This creates a `.xcarchive` file, which is a bundle containing your compiled app and its symbols.
2.  **Export the archive**: This converts the `.xcarchive` into a distributable `.ipa` file using a special configuration file.

Here are the steps:

**Step 1: Create an `exportOptions.plist` File**

This file tells `xcodebuild` how to package your app (in this case, for ad-hoc distribution). In the root directory of the `ledger-live` project, create a file named `adhocExportOptions.plist` with the following content.

```bash
touch adhocExportOptions.plist
```

Now, open that file and paste in the following:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>method</key>
    <string>ad-hoc</string>
    <key>teamID</key>
    <string>YOUR_TEAM_ID</string>
    <key>signingStyle</key>
    <string>automatic</string>
</dict>
</plist>
```

**Crucially, you must replace `YOUR_TEAM_ID` with your actual Apple Developer Team ID.** You can find this ID in your Apple Developer account under "Membership Details".

**Step 2: Run the Build Commands**

Navigate to the root of your `ledger-live` project in your terminal. Then run the following commands in sequence.

1.  **Archive the app:**
    This command cleans the build folder and creates the archive. It will place the output in a `build` folder at the root of the monorepo.

    ```bash
    xcodebuild -workspace apps/ledger-live-mobile/ios/ledgerlivemobile.xcworkspace \
               -scheme ledgerlivemobile \
               -sdk iphoneos \
               -configuration Release \
               -archivePath ./build/ledgerlivemobile.xcarchive \
               clean archive
    ```

2.  **Export the `.ipa` file:**
    This command takes the archive you just created and uses your `adhocExportOptions.plist` to create the final `.ipa` file.

    ```bash
    xcodebuild -exportArchive \
               -archivePath ./build/ledgerlivemobile.xcarchive \
               -exportPath ./build \
               -exportOptionsPlist ./adhocExportOptions.plist
    ```

After the commands complete successfully, you will find your signed `ledgerlivemobile.ipa` file inside the `./build` directory. You can then drag and drop this file onto your connected device in the Finder to install it.

---

